<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<button>按钮1</button>
		<button>按钮2</button>
		<button>按钮3</button>
		<button>按钮4</button>
		<button>按钮5</button>
		
	<script>
		// 没有块级作用域引起的问题：for的块级
		// 为什么闭包可以解决问题：函数是一个作用域
		var btns = document.getElementsByTagName('button');
		// 1. 情况一：ES5 中没有使用闭包（错误的方式
		// for(var i = 0;i < btns.length;i++){
		// 	btns[i].addEventListener('click',function(){
		// 		// 依次点击按钮，都是打印：第5个按钮被点击
		// 		// 没有块级作用域，在块内和快外定义的变量是一样的
		// 		// 循环最后一次的变量的值影响循环变量前面的值。
		// 		console.log('第'+ i + '个按钮被点击');
		// 	})
		// }
		
		// 2. 情况二：ES5 中使用闭包
		// for(var i = 0;i < btns.length;i++){
		// 	// 模拟块级作用域，点击第i个按钮，输出：第i-1个按钮被点击
		// 	(function(i){
		// 		btns[i].addEventListener('click',function(){
		// 			console.log('第'+ i + '个按钮被点击');
		// 		})
		// 	})(i)
		// }
		
		// 3. 情况三：ES6 中的 <applet code="" width="" height="">
		for(let i = 0;i < btns.length;i++){
			btns[i].addEventListener('click',function(){
				console.log('第'+ i + '个按钮被点击');
			})
		}
	</script>
	</body>
</html>
